{% extends "public_nav.html" %}
{% block title %}<title>知识图谱-我的图谱-我的关注</title>{% endblock %}
{% block my_css %}
<link rel="stylesheet" href="/static/css/theme_main.css">
<link rel="stylesheet" href="/static/css/a-btn.css">
<style>
body,tr,th,div,span{
	font-family: Microsoft Yahei !important;
}
.table>thead{
	background-color:#1E90FF;
	color: white;
	font-size:15px; 
}
.block {
	margin-top: 3%;
	background-color:white;
	width: 100%;	
	padding: 40px 20px 50px 20px;
}
.chap_label{
	border: none;
    display: inline-block;
    outline: 0;
    padding: 6px 16px;
    margin-bottom: 10px;
    vertical-align: middle;
    overflow: hidden;
    text-decoration: none;
    color: #fff;
    background-color:#00a0c3;
    text-align: center;
    transition: .2s ease-out;
    cursor: pointer;
    white-space: nowrap;
    box-shadow: 0px 1px 3px #337ab7, 0px 1px 2px #dff0d8;
}
</style>
<script type="text/javascript"></script>
{% endblock %}


{% block main %}
<div id="container">
    <h3 style="color: white;font-weight:800;padding-top: 0.5%">我的关注</h3>
    <div style="margin-top: 30px;">
    	<div class="chap_label">我关注的人物</div>
    	<div class="block" style="">
    		<div class="table-user-contain">
				<table id="sysadmin_fpeople_table" class="table table-striped">
				</table>
			</div>
    	</div> 	
    </div>
    <div class="block" style="">
    	<div class="table-user-contain">
			<table id="sysadmin_fscco_table" class="table table-striped">
			</table>
		</div>
    </div> 	
    <div class="block" style="">
    	<div class="table-user-contain">
			<table id="sysadmin_fevent_table" class="table table-striped">
			</table>
		</div>
    </div> 	 	
</div>
{% endblock %}


{% block my_js %}

<script>
var url = '';
$.ajax({
    url: url,
    type: 'GET',
    dataType:'json',
    async:true,
    success:draw_table
});

function draw_table(data){
    console.log(data);
    data=eval(data);
    $('#sysadmin_group_table').bootstrapTable('load',data)
    $('#sysadmin_group_table').bootstrapTable({
        data:data,
        search: true,//是否搜索
        pagination: true,//是否分页
        pageSize: 5,//单页记录数
        pageList: [5, 20, 40, 80],//分页步进值
        sidePagination: "client",//服务端分页
        searchAlign: "left",
        searchOnEnterKey: true,//回车搜索
        showRefresh: true,//刷新按钮
        showColumns: true,//列选择按钮
        buttonsAlign: "right",//按钮对齐方式
        locale: "zh-CN",//中文支持
        detailView: false,
        showToggle:true,
        sortName:'bci',
        sortOrder:"desc",
        columns: [
        {
            title: "群体名称",//标题
            field: "name",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
            visible:true,
        },
        {
            title: "包含人数",//标题
            field: "count",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
        },
        {
            title: "创建时间",//标题
            field: "time",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
        },
        {
            title: "自动标签",//标题
            field: "auto_label",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
            formatter: function (value, row, index) {
                if (value.length==0)
                    return '暂无';
                else
                    return value;
            },
        },
        {
            title: "业务标签",//标题
            field: "buss_label",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
            formatter: function (value, row, index) {
                if (value.length==0)
                    return '暂无';
                else
                    return value;
            },
        },
        {
            title: "群体查看",//标题
            field: "",//键名
            sortable: true,//是否可排序
            order: "desc",//默认排序方式
            align: "center",//水平
            valign: "middle",//垂直
            formatter: function (value) {
                var addr = '<a href="#"><span style="text-decoration:underline;font-weight:bold;">查看群体</span></a>'
                return addr;
            },
        }
        ]
    });
    $('.table-user-contain').css("display","block");
}

</script>
{% endblock %}
